<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <style>
    </style>
</head>
<body>

<script src="js_player.js"></script>
<!-- <script src="rdp_graphics.js"></script> -->
<script>

const Module = WallixModule({
    // TOTAL_MEMORY: 16777216, // 16**6
    TOTAL_MEMORY: 268435456, // 16**7
});

fetch('test.wrm')
.then(response => response.arrayBuffer())
.then(buffer => {
    const player = new Module.WrmPlayer({}, buffer);
    let i = 0;
    while (player.next() && ++i<10) {
        console.log(player.interpret());
    }
})
.catch(error => console.error('Error:', error));
</script>

</body>
</html>
