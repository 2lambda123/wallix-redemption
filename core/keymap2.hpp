#if !defined(__KEYMAP__)
#define __KEYMAP__

#include <stdio.h>
#include "constants.hpp"
#include <string.h>
#include <string>

using namespace std;

struct Keymap2 {

    enum {
           KBDFLAGS_EXTENDED=0x0100
         , KBDFLAGS_DOWN=0x4000
         , KBDFLAGS_RELEASE=0x8000
         };

    // keyboard info
    int keys_down[256];  // key states 0 up 1 down

    int key_flags;          // scrool_lock = 1, num_lock = 2, caps_lock = 4,
                            // shift = 8, ctrl = 16, Alt = 32,
                            // Windows = 64, AltGr = 128

    uint32_t last_char;
    uint32_t last_char_key;

    int last_chr_unicode;

    // keylayout working tables (X11 mode : begins in 8e position.)
    int keylayout_WORK_noshift[128];
    int keylayout_WORK_shift[128];
    int keylayout_WORK_altgr[128];
    int keylayout_WORK_capslock[128];
    int keylayout_WORK_shiftcapslock[128];


    // constructor
// ################################################################
    Keymap2() {
// ################################################################
        memset(this->keys_down, 0, 256 * sizeof(int));

        memset(this->keylayout_WORK_noshift,       0, 128 * sizeof(int));
        memset(this->keylayout_WORK_shift,         0, 128 * sizeof(int));
        memset(this->keylayout_WORK_altgr,         0, 128 * sizeof(int));
        memset(this->keylayout_WORK_capslock,      0, 128 * sizeof(int));
        memset(this->keylayout_WORK_shiftcapslock, 0, 128 * sizeof(int));

        this->key_flags = 0;
        this->last_chr_unicode = 0;
    }

// ################################################################
    void init_layout(int keyb)
    {
        // DEFAULT KEYMAP
        const int keylayout_DEFAULT_noshift[128]={
            0, 0, 0, 0, 0, 0, 0, 0,
            0, 27, 49, 50, 51, 52, 53, 54, 55, 56, 57, 48, 223, 180, 8, 9, 113, 119, 101, 114,
            116, 122, 117, 105, 111, 112, 252, 43, 13, 0, 97, 115, 100, 102, 103, 104, 106, 107, 108, 246,
            228, 94, 0, 35, 121, 120, 99, 118, 98, 110, 109, 44, 46, 45, 0, 42, 0, 32, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 45, 0, 0, 0, 43, 0,
            0, 0, 0, 0, 0, 0, 60, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 127,
            13, 0, 0, 0, 47, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 61, 0,
        } ;

        const int keylayout_DEFAULT_shift[128]={
            0, 0, 0, 0, 0, 0, 0, 0,
            0, 27, 33, 34, 167, 36, 37, 38, 47, 40, 41, 61, 63, 96, 8, 0, 81, 87, 69, 82,
            84, 90, 85, 73, 79, 80, 220, 42, 13, 0, 65, 83, 68, 70, 71, 72, 74, 75, 76, 214,
            196, 176, 0, 39, 89, 88, 67, 86, 66, 78, 77, 59, 58, 95, 0, 42, 0, 32, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 55, 56, 57, 45, 52, 53, 54, 43, 49,
            50, 51, 48, 44, 0, 0, 62, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 127,
            13, 0, 0, 0, 47, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 61, 0,
        } ;

        const int keylayout_DEFAULT_altgr[128]={
            0, 0, 0, 0, 0, 0, 0, 0,
            0, 27, 185, 178, 179, 188, 189, 172, 123, 91, 93, 125, 92, 184, 8, 9, 64, 322, 8364, 182,
            359, 8592, 8595, 8594, 248, 254, 168, 126, 13, 0, 230, 223, 240, 273, 331, 295, 106, 312, 322, 733,
            94, 172, 0, 96, 171, 187, 162, 8220, 8221, 110, 181, 0, 183, 0, 0, 42, 0, 32, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 45, 0, 0, 0, 43, 0,
            0, 0, 0, 0, 0, 0, 124, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 127,
            13, 0, 0, 0, 47, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 61, 0,
        } ;

        const int keylayout_DEFAULT_capslock[128]={
            0, 0, 0, 0, 0, 0, 0, 0,
            0, 27, 49, 50, 51, 52, 53, 54, 55, 56, 57, 48, 223, 180, 8, 9, 81, 87, 69, 82,
            84, 90, 85, 73, 79, 80, 220, 43, 13, 0, 65, 83, 68, 70, 71, 72, 74, 75, 76, 214,
            196, 94, 0, 35, 89, 88, 67, 86, 66, 78, 77, 44, 46, 45, 0, 42, 0, 32, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 45, 0, 0, 0, 43, 0,
            0, 0, 0, 0, 0, 0, 60, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 127,
            13, 0, 0, 0, 47, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 61, 0,
        } ;

        const int keylayout_DEFAULT_shiftcapslock[128]={
            0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        } ;

        // Intialize the WORK tables
        for(int i=0 ; i < 128 ; i++) {
            keylayout_WORK_noshift[i] = keylayout_DEFAULT_noshift[i] ;
            keylayout_WORK_shift[i] = keylayout_DEFAULT_shift[i] ;
            keylayout_WORK_altgr[i] = keylayout_DEFAULT_altgr[i] ;
            keylayout_WORK_capslock[i] = keylayout_DEFAULT_capslock[i] ;
            keylayout_WORK_shiftcapslock[i] = keylayout_DEFAULT_shiftcapslock[i] ;
        }

        switch (keyb){
            case 0x0407:
            {
                const int keylayout_0407_noshift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0xdf,   0xb4,    0x8,    0x9,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x7a,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0xfc,   0x2b,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0xf6,
                    /*  48 */    0xe4,   0x5e,    0x0,   0x23,   0x79,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x2c,   0x2e,   0x2d,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0407_shift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x21,   0x22,   0xa7,   0x24,   0x25,   0x26,
                    /*  16 */    0x2f,   0x28,   0x29,   0x3d,   0x3f,   0x60,    0x8,    0x0,
                    /*  24 */    0x51,   0x57,   0x45,   0x52,   0x54,   0x5a,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0xdc,   0x2a,    0xd,    0x0,   0x41,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0xd6,
                    /*  48 */    0xc4,   0xb0,    0x0,   0x27,   0x59,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x4d,   0x3b,   0x3a,   0x5f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2c,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0407_capslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0xdf,   0xb4,    0x8,    0x9,
                    /*  24 */    0x51,   0x57,   0x45,   0x52,   0x54,   0x5a,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0xdc,   0x2b,    0xd,    0x0,   0x41,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0xd6,
                    /*  48 */    0xc4,   0x5e,    0x0,   0x23,   0x59,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x4d,   0x2c,   0x2e,   0x2d,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0407_altgr[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0xb9,   0xb2,   0xb3,   0xbc,   0xbd,   0xac,
                    /*  16 */    0x7b,   0x5b,   0x5d,   0x7d,   0x5c,   0xb8,    0x8,    0x9,
                    /*  24 */    0x40,  0x142, 0x20ac,   0xb6,  0x167, 0x2190, 0x2193, 0x2192,
                    /*  32 */    0xf8,   0xfe,   0xa8,   0x7e,    0xd,    0x0,   0xe6,   0xdf,
                    /*  40 */    0xf0,  0x111,  0x14b,  0x127,   0x6a,  0x138,  0x142,  0x2dd,
                    /*  48 */    0x5e,   0xac,    0x0,   0x60,   0xab,   0xbb,   0xa2, 0x201c,
                    /*  56 */  0x201d,   0x6e,   0xb5,    0x0,   0xb7,    0x0,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x7c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0407_shiftcapslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x21,   0x22,   0xa7,   0x24,   0x25,   0x26,
                    /*  16 */    0x2f,   0x28,   0x29,   0x3d,   0x3f,   0x60,    0x8,    0x0,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x7a,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0xfc,   0x2a,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0xf6,
                    /*  48 */    0xe4,   0xb0,    0x0,   0x27,   0x79,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x3b,   0x3a,   0x5f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2c,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };

                for(size_t i = 0 ; i < 128 ; i++) {
                    if (keylayout_0407_noshift[i]){
                        keylayout_WORK_noshift[i] = keylayout_0407_noshift[i] ;
                    }
                    if (keylayout_0407_shift[i]){
                        keylayout_WORK_shift[i] = keylayout_0407_shift[i] ;
                    }
                    if (keylayout_0407_altgr[i]){
                        keylayout_WORK_altgr[i] = keylayout_0407_altgr[i] ;
                    }
                    if (keylayout_0407_capslock[i]){
                        keylayout_WORK_capslock[i] = keylayout_0407_capslock[i] ;
                    }
                    if (keylayout_0407_shiftcapslock[i]){
                        keylayout_WORK_shiftcapslock[i] = keylayout_0407_shiftcapslock[i] ;
                    }
                }
            }
            break;
            case 0x0409:
            {
                const int keylayout_0409_noshift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0x2d,   0x3d,    0x8,    0x9,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x79,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0x5b,   0x5d,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0x3b,
                    /*  48 */    0x27,   0x60,    0x0,   0x5c,   0x7a,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x2c,   0x2e,   0x2f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0409_shift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x21,   0x40,   0x23,   0x24,   0x25,   0x5e,
                    /*  16 */    0x26,   0x2a,   0x28,   0x29,   0x5f,   0x2b,    0x8,    0x0,
                    /*  24 */    0x51,   0x57,   0x45,   0x52,   0x54,   0x59,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0x7b,   0x7d,    0xd,    0x0,   0x41,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0x3a,
                    /*  48 */    0x22,   0x7e,    0x0,   0x7c,   0x5a,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x4d,   0x3c,   0x3e,   0x3f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2e,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0409_capslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0x2d,   0x3d,    0x8,    0x9,
                    /*  24 */    0x51,   0x57,   0x45,   0x52,   0x54,   0x59,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0x5b,   0x5d,    0xd,    0x0,   0x41,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0x3b,
                    /*  48 */    0x27,   0x60,    0x0,   0x5c,   0x5a,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x4d,   0x2c,   0x2e,   0x2f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0409_altgr[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0x2d,   0x3d,    0x8,    0x9,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x79,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0x5b,   0x5d,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0x3b,
                    /*  48 */    0x27,   0x60,    0x0,   0x5c,   0x7a,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x2c,   0x2e,   0x2f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x7c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0409_shiftcapslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x21,   0x40,   0x23,   0x24,   0x25,   0x5e,
                    /*  16 */    0x26,   0x2a,   0x28,   0x29,   0x5f,   0x2b,    0x8,    0x0,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x79,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0x7b,   0x7d,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0x3a,
                    /*  48 */    0x22,   0x7e,    0x0,   0x7c,   0x7a,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x3c,   0x3e,   0x3f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2e,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };

                for(size_t i = 0 ; i < 128 ; i++) {
                    if (keylayout_0409_noshift[i]){
                        keylayout_WORK_noshift[i] = keylayout_0409_noshift[i] ;
                    }
                    if (keylayout_0409_shift[i]){
                        keylayout_WORK_shift[i] = keylayout_0409_shift[i] ;
                    }
                    if (keylayout_0409_altgr[i]){
                        keylayout_WORK_altgr[i] = keylayout_0409_altgr[i] ;
                    }
                    if (keylayout_0409_capslock[i]){
                        keylayout_WORK_capslock[i] = keylayout_0409_capslock[i] ;
                    }
                    if (keylayout_0409_shiftcapslock[i]){
                        keylayout_WORK_shiftcapslock[i] = keylayout_0409_shiftcapslock[i] ;
                    }
                }
            }
            break;
            case 0x040c:
            {
                const int keylayout_040c_noshift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x26,   0xe9,   0x22,   0x27,   0x28,   0x2d,
                    /*  16 */    0xe8,   0x5f,   0xe7,   0xe0,   0x29,   0x3d,    0x8,    0x9,
                    /*  24 */    0x61,   0x7a,   0x65,   0x72,   0x74,   0x79,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0x5e,   0x24,    0xd,    0x0,   0x71,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0x6d,
                    /*  48 */    0xf9,   0xb2,    0x0,   0x2a,   0x77,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x2c,   0x3b,   0x3a,   0x21,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_040c_shift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0xb0,   0x2b,    0x8,    0x0,
                    /*  24 */    0x41,   0x5a,   0x45,   0x52,   0x54,   0x59,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0xa8,   0xa3,    0xd,    0x0,   0x51,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0x4d,
                    /*  48 */    0x25,   0x7e,    0x0,   0xb5,   0x57,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x3f,   0x2e,   0x2f,   0xa7,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2e,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_040c_capslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x26,   0xc9,   0x22,   0x27,   0x28,   0x2d,
                    /*  16 */    0xc8,   0x5f,   0xc7,   0xc0,   0x29,   0x3d,    0x8,    0x9,
                    /*  24 */    0x41,   0x5a,   0x45,   0x52,   0x54,   0x59,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0x5e,   0x24,    0xd,    0x0,   0x51,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0x4d,
                    /*  48 */    0xd9,   0xb2,    0x0,   0x2a,   0x57,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x2c,   0x3b,   0x3a,   0x21,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_040c_altgr[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0xb9,   0x7e,   0x23,   0x7b,   0x5b,   0x7c,
                    /*  16 */    0x60,   0x5c,   0x5e,   0x40,   0x5d,   0x7d,    0x8,    0x9,
                    /*  24 */    0xe6,   0xab, 0x20ac,   0xb6,  0x167, 0x2190, 0x2193, 0x2192,
                    /*  32 */    0xf8,   0xfe,   0xa8,   0xa4,    0xd,    0x0,   0x40,   0xdf,
                    /*  40 */    0xf0,  0x111,  0x14b,  0x127,   0x6a,  0x138,  0x142,   0xb5,
                    /*  48 */    0x5e,   0xac,    0x0,   0x60,  0x142,   0xbb,   0xa2, 0x201c,
                    /*  56 */  0x201d,   0x6e,   0xb4,    0x0,   0xb7,    0x0,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x7c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_040c_shiftcapslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0xb0,   0x2b,    0x8,    0x0,
                    /*  24 */    0x61,   0x7a,   0x65,   0x72,   0x74,   0x79,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0xa8,   0xa3,    0xd,    0x0,   0x71,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0x6d,
                    /*  48 */    0x25,   0x7e,    0x0,    0x0,   0x77,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x3f,   0x2e,   0x2f,   0xa7,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2e,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };

                for(size_t i = 0 ; i < 128 ; i++) {
                    if (keylayout_040c_noshift[i]){
                        keylayout_WORK_noshift[i] = keylayout_040c_noshift[i] ;
                    }
                    if (keylayout_040c_shift[i]){
                        keylayout_WORK_shift[i] = keylayout_040c_shift[i] ;
                    }
                    if (keylayout_040c_altgr[i]){
                        keylayout_WORK_altgr[i] = keylayout_040c_altgr[i] ;
                    }
                    if (keylayout_040c_capslock[i]){
                        keylayout_WORK_capslock[i] = keylayout_040c_capslock[i] ;
                    }
                    if (keylayout_040c_shiftcapslock[i]){
                        keylayout_WORK_shiftcapslock[i] = keylayout_040c_shiftcapslock[i] ;
                    }
                }
            }
            break;
            case 0x0410:
            {
                const int keylayout_0410_noshift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0x27,   0xec,    0x8,    0x9,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x79,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0xe8,   0x2b,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0xf2,
                    /*  48 */    0xe0,   0x5c,    0x0,   0xf9,   0x7a,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x2c,   0x2e,   0x2d,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0410_shift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x21,   0x22,   0xa3,   0x24,   0x25,   0x26,
                    /*  16 */    0x2f,   0x28,   0x29,   0x3d,   0x3f,   0x5e,    0x8,    0x0,
                    /*  24 */    0x51,   0x57,   0x45,   0x52,   0x54,   0x59,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0xe9,   0x2a,    0xd,    0x0,   0x41,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0xe7,
                    /*  48 */    0xb0,   0x7c,    0x0,   0xa7,   0x5a,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x4d,   0x3b,   0x3a,   0x5f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2e,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0410_capslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0x27,   0xcc,    0x8,    0x9,
                    /*  24 */    0x51,   0x57,   0x45,   0x52,   0x54,   0x59,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0xc8,   0x2b,    0xd,    0x0,   0x41,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0xd2,
                    /*  48 */    0xc0,   0x5c,    0x0,   0xd9,   0x5a,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x4d,   0x2c,   0x2e,   0x2d,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0410_altgr[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0xb9,   0xb2,   0xb3,   0xbc,   0xbd,   0xac,
                    /*  16 */    0x7b,   0x5b,   0x5d,   0x7d,   0x60,   0x7e,    0x8,    0x9,
                    /*  24 */    0x40,  0x142, 0x20ac,   0xb6,  0x167, 0x2190, 0x2193, 0x2192,
                    /*  32 */    0xf8,   0xfe,   0x5b,   0x5d,    0xd,    0x0,   0xe6,   0xdf,
                    /*  40 */    0xf0,  0x111,  0x14b,  0x127,   0x6a,  0x138,  0x142,   0x40,
                    /*  48 */    0x23,   0xac,    0x0,   0x60,   0xab,   0xbb,   0xa2, 0x201c,
                    /*  56 */  0x201d,   0xf1,   0xb5,   0xb4,   0xb7,   0xaf,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0xab,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0410_shiftcapslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x21,   0x22,   0xa3,   0x24,   0x25,   0x26,
                    /*  16 */    0x2f,   0x28,   0x29,   0x3d,   0x3f,   0x5e,    0x8,    0x0,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x79,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0xc9,   0x2a,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0xc7,
                    /*  48 */    0xb0,   0x7c,    0x0,   0xa7,   0x7a,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x3b,   0x3a,   0x5f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2e,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };

                for(size_t i = 0 ; i < 128 ; i++) {
                    if (keylayout_0410_noshift[i]){
                        keylayout_WORK_noshift[i] = keylayout_0410_noshift[i] ;
                    }
                    if (keylayout_0410_shift[i]){
                        keylayout_WORK_shift[i] = keylayout_0410_shift[i] ;
                    }
                    if (keylayout_0410_altgr[i]){
                        keylayout_WORK_altgr[i] = keylayout_0410_altgr[i] ;
                    }
                    if (keylayout_0410_capslock[i]){
                        keylayout_WORK_capslock[i] = keylayout_0410_capslock[i] ;
                    }
                    if (keylayout_0410_shiftcapslock[i]){
                        keylayout_WORK_shiftcapslock[i] = keylayout_0410_shiftcapslock[i] ;
                    }
                }
            }
            break;
            case 0x0419:
            {
                const int keylayout_0419_noshift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0x2d,   0x3d,    0x8,    0x9,
                    /*  24 */   0x439,  0x446,  0x443,  0x43a,  0x435,  0x43d,  0x433,  0x448,
                    /*  32 */   0x449,  0x437,  0x445,  0x44a,    0xd,    0x0,  0x444,  0x44b,
                    /*  40 */   0x432,  0x430,  0x43f,  0x440,  0x43e,  0x43b,  0x434,  0x436,
                    /*  48 */   0x44d,  0x451,    0x0,   0x5c,  0x44f,  0x447,  0x441,  0x43c,
                    /*  56 */   0x438,  0x442,  0x44c,  0x431,  0x44e,   0x2f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x2f,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0419_shift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x21,   0x22,   0x23,   0x2a,   0x3a,   0x2c,
                    /*  16 */    0x2e,   0x3b,   0x28,   0x29,   0x5f,   0x2b,    0x8,    0x0,
                    /*  24 */   0x419,  0x426,  0x423,  0x41a,  0x415,  0x41d,  0x413,  0x428,
                    /*  32 */   0x429,  0x417,  0x425,  0x42a,    0xd,    0x0,  0x424,  0x42b,
                    /*  40 */   0x412,  0x410,  0x41f,  0x420,  0x41e,  0x41b,  0x414,  0x416,
                    /*  48 */   0x42d,  0x401,    0x0,   0x7c,  0x42f,  0x427,  0x421,  0x41c,
                    /*  56 */   0x418,  0x422,  0x42c,  0x411,  0x42e,   0x3f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2c,    0x0,    0x0,   0x7c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0419_capslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0x2d,   0x3d,    0x8,    0x9,
                    /*  24 */   0x419,  0x426,  0x423,  0x41a,  0x415,  0x41d,  0x413,  0x428,
                    /*  32 */   0x429,  0x417,  0x425,  0x42a,    0xd,    0x0,  0x424,  0x42b,
                    /*  40 */   0x412,  0x410,  0x41f,  0x420,  0x41e,  0x41b,  0x414,  0x416,
                    /*  48 */   0x42d,  0x401,    0x0,   0x5c,  0x42f,  0x427,  0x421,  0x41c,
                    /*  56 */   0x418,  0x422,  0x42c,  0x411,  0x42e,   0x2f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x2f,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0419_altgr[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0x2d,   0x3d,    0x8,    0x9,
                    /*  24 */   0x439,  0x446,  0x443,  0x43a,  0x435,  0x43d,  0x433,  0x448,
                    /*  32 */   0x449,  0x437,  0x445,  0x44a,    0xd,    0x0,  0x444,  0x44b,
                    /*  40 */   0x432,  0x430,  0x43f,  0x440,  0x43e,  0x43b,  0x434,  0x436,
                    /*  48 */   0x44d,  0x451,    0x0,   0x5c,  0x44f,  0x447,  0x441,  0x43c,
                    /*  56 */   0x438,  0x442,  0x44c,  0x431,  0x44e,   0x2f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x7c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0419_shiftcapslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x21,   0x22,   0x23,   0x2a,   0x3a,   0x2c,
                    /*  16 */    0x2e,   0x3b,   0x28,   0x29,   0x5f,   0x2b,    0x8,    0x0,
                    /*  24 */   0x439,  0x446,  0x443,  0x43a,  0x435,  0x43d,  0x433,  0x448,
                    /*  32 */   0x449,  0x437,  0x445,  0x44a,    0xd,    0x0,  0x444,  0x44b,
                    /*  40 */   0x432,  0x430,  0x43f,  0x440,  0x43e,  0x43b,  0x434,  0x436,
                    /*  48 */   0x44d,  0x451,    0x0,   0x7c,  0x44f,  0x447,  0x441,  0x43c,
                    /*  56 */   0x438,  0x442,  0x44c,  0x431,  0x44e,   0x3f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2c,    0x0,    0x0,   0x7c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };

                for(size_t i = 0 ; i < 128 ; i++) {
                    if (keylayout_0419_noshift[i]){
                        keylayout_WORK_noshift[i] = keylayout_0419_noshift[i] ;
                    }
                    if (keylayout_0419_shift[i]){
                        keylayout_WORK_shift[i] = keylayout_0419_shift[i] ;
                    }
                    if (keylayout_0419_altgr[i]){
                        keylayout_WORK_altgr[i] = keylayout_0419_altgr[i] ;
                    }
                    if (keylayout_0419_capslock[i]){
                        keylayout_WORK_capslock[i] = keylayout_0419_capslock[i] ;
                    }
                    if (keylayout_0419_shiftcapslock[i]){
                        keylayout_WORK_shiftcapslock[i] = keylayout_0419_shiftcapslock[i] ;
                    }
                }

            }
            break;
            case 0x041d:
            {
                const int keylayout_041d_noshift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0x2b,   0xb4,    0x8,    0x9,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x79,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0xe5,   0xa8,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0xf6,
                    /*  48 */    0xe4,   0xa7,    0x0,   0x27,   0x7a,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x2c,   0x2e,   0x2d,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_041d_shift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x21,   0x22,   0x23,   0xa4,   0x25,   0x26,
                    /*  16 */    0x2f,   0x28,   0x29,   0x3d,   0x3f,   0x60,    0x8,    0x0,
                    /*  24 */    0x51,   0x57,   0x45,   0x52,   0x54,   0x59,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0xc5,   0x5e,    0xd,    0x0,   0x41,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0xd6,
                    /*  48 */    0xc4,   0xbd,    0x0,   0x2a,   0x5a,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x4d,   0x3b,   0x3a,   0x5f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2c,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_041d_capslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0x2b,   0xb4,    0x8,    0x9,
                    /*  24 */    0x51,   0x57,   0x45,   0x52,   0x54,   0x59,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0xc5,   0xa8,    0xd,    0x0,   0x41,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0xd6,
                    /*  48 */    0xc4,   0xa7,    0x0,   0x27,   0x5a,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x4d,   0x2c,   0x2e,   0x2d,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_041d_altgr[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0xa1,   0x40,   0xa3,   0x24, 0x20ac,   0xa5,
                    /*  16 */    0x7b,   0x5b,   0x5d,   0x7d,   0x5c,   0xb1,    0x8,    0x9,
                    /*  24 */    0x40,  0x142, 0x20ac,   0xae,   0xfe, 0x2190, 0x2193, 0x2192,
                    /*  32 */   0x153,   0xfe,   0xa8,   0x7e,    0xd,    0x0,   0xaa,   0xdf,
                    /*  40 */    0xf0,  0x111,  0x14b,  0x127,   0x6a,  0x138,  0x142,   0xf8,
                    /*  48 */    0xe6,   0xb6,    0x0,   0xb4,   0xab,   0xbb,   0xa9, 0x201c,
                    /*  56 */  0x201d,   0x6e,   0xb5,   0xb8,   0xb7,    0x0,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x7c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_041d_shiftcapslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x21,   0x22,   0x23,   0xa4,   0x25,   0x26,
                    /*  16 */    0x2f,   0x28,   0x29,   0x3d,   0x3f,   0x60,    0x8,    0x0,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x79,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0xe5,   0x5e,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0xf6,
                    /*  48 */    0xe4,   0xbd,    0x0,   0x2a,   0x7a,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x3b,   0x3a,   0x5f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2c,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };

                for(size_t i = 0 ; i < 128 ; i++) {
                    if (keylayout_041d_noshift[i]){
                        keylayout_WORK_noshift[i] = keylayout_041d_noshift[i] ;
                    }
                    if (keylayout_041d_shift[i]){
                        keylayout_WORK_shift[i] = keylayout_041d_shift[i] ;
                    }
                    if (keylayout_041d_altgr[i]){
                        keylayout_WORK_altgr[i] = keylayout_041d_altgr[i] ;
                    }
                    if (keylayout_041d_capslock[i]){
                        keylayout_WORK_capslock[i] = keylayout_041d_capslock[i] ;
                    }
                    if (keylayout_041d_shiftcapslock[i]){
                        keylayout_WORK_shiftcapslock[i] = keylayout_041d_shiftcapslock[i] ;
                    }
                }

            }
            break;
            case 0x046e:
            {
                const int keylayout_046e_noshift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0x27,   0x5e,    0x8,    0x9,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x7a,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0x5b,   0x5d,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0xf6,
                    /*  48 */    0xe4,   0x5f,    0x0,   0x24,   0x79,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x2c,   0x2e,   0x2d,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_046e_shift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x2b,   0x22,   0x2a,    0x0,   0x25,   0x26,
                    /*  16 */    0x2f,   0x28,   0x29,   0x3d,   0x3f,   0x60,    0x8,    0x0,
                    /*  24 */    0x51,   0x57,   0x45,   0x52,   0x54,   0x5a,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0x7b,   0x21,    0xd,    0x0,   0x41,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0x3a,
                    /*  48 */    0x22,    0x0,    0x0,   0x23,   0x5a,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x4d,   0x3b,   0x3a,   0x5f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2c,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_046e_capslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0xdf,   0xb4,    0x8,    0x9,
                    /*  24 */    0x51,   0x57,   0x45,   0x52,   0x54,   0x5a,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0xdc,   0x2b,    0xd,    0x0,   0x41,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0xd6,
                    /*  48 */    0xc4,   0x5e,    0x0,   0x23,   0x59,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x4d,   0x2c,   0x2e,   0x2d,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_046e_altgr[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x7e,   0x23,   0x7b,   0x5b,   0x7c,   0x60,
                    /*  16 */    0x5c,   0x5e,   0x40,   0x5d,   0x7d,   0x3d,    0x8,    0x9,
                    /*  24 */    0x40,  0x142, 0x20ac,   0xb6,  0x167, 0x2190, 0x2193, 0x2192,
                    /*  32 */    0xf8,   0xfe,   0xa8,   0x7e,    0xd,    0x0,   0xe6,   0xdf,
                    /*  40 */    0xf0,  0x111,  0x14b,  0x127,   0x6a,  0x138,  0x142,  0x2dd,
                    /*  48 */    0x5e,   0xac,    0x0,   0x5c,   0xab,   0xbb,   0xa2, 0x201c,
                    /*  56 */  0x201d,   0x6e,   0xb5,    0x0,   0xb7,    0x0,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x7c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_046e_shiftcapslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x21,   0x22,   0xa7,   0x24,   0x25,   0x26,
                    /*  16 */    0x2f,   0x28,   0x29,   0x3d,   0x3f,   0x60,    0x8,    0x0,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x7a,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0xfc,   0x2a,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0xf6,
                    /*  48 */    0xe4,   0xb0,    0x0,   0x27,   0x79,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x3b,   0x3a,   0x5f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2c,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };

                for(size_t i = 0 ; i < 128 ; i++) {
                    if (keylayout_046e_noshift[i]){
                        keylayout_WORK_noshift[i] = keylayout_046e_noshift[i] ;
                    }
                    if (keylayout_046e_shift[i]){
                        keylayout_WORK_shift[i] = keylayout_046e_shift[i] ;
                    }
                    if (keylayout_046e_altgr[i]){
                        keylayout_WORK_altgr[i] = keylayout_046e_altgr[i] ;
                    }
                    if (keylayout_046e_capslock[i]){
                        keylayout_WORK_capslock[i] = keylayout_046e_capslock[i] ;
                    }
                    if (keylayout_046e_shiftcapslock[i]){
                        keylayout_WORK_shiftcapslock[i] = keylayout_046e_shiftcapslock[i] ;
                    }
                }

            }
            break;
            case 0x0807:
            {
                const int keylayout_0807_noshift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0xdf,   0xb4,    0x8,    0x9,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x7a,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0xfc,   0x2b,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0xf6,
                    /*  48 */    0xe4,   0x5e,    0x0,   0x23,   0x79,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x2c,   0x2e,   0x2d,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0807_shift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x21,   0x22,   0xa7,   0x24,   0x25,   0x26,
                    /*  16 */    0x2f,   0x28,   0x29,   0x3d,   0x3f,   0x60,    0x8,    0x0,
                    /*  24 */    0x51,   0x57,   0x45,   0x52,   0x54,   0x5a,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0xdc,   0x2a,    0xd,    0x0,   0x41,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0xd6,
                    /*  48 */    0xc4,   0xb0,    0x0,   0x27,   0x59,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x4d,   0x3b,   0x3a,   0x5f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2c,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0807_capslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0xdf,   0xb4,    0x8,    0x9,
                    /*  24 */    0x51,   0x57,   0x45,   0x52,   0x54,   0x5a,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0xdc,   0x2b,    0xd,    0x0,   0x41,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0xd6,
                    /*  48 */    0xc4,   0x5e,    0x0,   0x23,   0x59,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x4d,   0x2c,   0x2e,   0x2d,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0807_altgr[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x7c,   0x40,   0x23,    0x0,    0x0,    0x0,
                    /*  16 */    0x7c,    0x0,    0x0,   0x5d,   0x60,   0x7e,    0x8,    0x9,
                    /*  24 */    0x40,  0x142, 0x20ac,   0xb6,  0x167, 0x2190, 0x2193, 0x2192,
                    /*  32 */    0x5b,   0x5b,   0x5b,   0x5d,    0xd,    0x0,   0xe6,   0xdf,
                    /*  40 */    0xf0,  0x111,  0x14b,  0x127,   0x6a,  0x138,  0x142,  0x2dd,
                    /*  48 */    0x7b,   0xac,    0x0,   0x7d,   0xab,   0xbb,   0xa2, 0x201c,
                    /*  56 */  0x201d,   0x6e,   0xb5,    0x0,   0xb7,    0x0,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x7c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0807_shiftcapslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x21,   0x22,   0xa7,   0x24,   0x25,   0x26,
                    /*  16 */    0x2f,   0x28,   0x29,   0x3d,   0x3f,   0x60,    0x8,    0x0,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x7a,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0xfc,   0x2a,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0xf6,
                    /*  48 */    0xe4,   0xb0,    0x0,   0x27,   0x79,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x3b,   0x3a,   0x5f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2c,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };

                for(size_t i = 0 ; i < 128 ; i++) {
                    if (keylayout_0807_noshift[i]){
                        keylayout_WORK_noshift[i] = keylayout_0807_noshift[i] ;
                    }
                    if (keylayout_0807_shift[i]){
                        keylayout_WORK_shift[i] = keylayout_0807_shift[i] ;
                    }
                    if (keylayout_0807_altgr[i]){
                        keylayout_WORK_altgr[i] = keylayout_0807_altgr[i] ;
                    }
                    if (keylayout_0807_capslock[i]){
                        keylayout_WORK_capslock[i] = keylayout_0807_capslock[i] ;
                    }
                    if (keylayout_0807_shiftcapslock[i]){
                        keylayout_WORK_shiftcapslock[i] = keylayout_0807_shiftcapslock[i] ;
                    }
                }

            }
            break;
            case 0x0809:
            {
                const int keylayout_0809_noshift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0x2d,   0x3d,    0x8,    0x9,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x79,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0x5b,   0x5d,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0x3b,
                    /*  48 */    0x27,   0x60,    0x0,   0x5c,   0x7a,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x2c,   0x2e,   0x2f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0809_shift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x21,   0x40,   0x23,   0x24,   0x25,   0x5e,
                    /*  16 */    0x26,   0x2a,   0x28,   0x29,   0x5f,   0x2b,    0x8,    0x0,
                    /*  24 */    0x51,   0x57,   0x45,   0x52,   0x54,   0x59,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0x7b,   0x7d,    0xd,    0x0,   0x41,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0x3a,
                    /*  48 */    0x22,   0x7e,    0x0,   0x7c,   0x5a,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x4d,   0x3c,   0x3e,   0x3f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2e,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0809_capslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0x2d,   0x3d,    0x8,    0x9,
                    /*  24 */    0x51,   0x57,   0x45,   0x52,   0x54,   0x59,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0x5b,   0x5d,    0xd,    0x0,   0x41,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0x3b,
                    /*  48 */    0x27,   0x60,    0x0,   0x5c,   0x5a,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x4d,   0x2c,   0x2e,   0x2f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0809_altgr[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0x2d,   0x3d,    0x8,    0x9,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x79,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0x5b,   0x5d,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0x3b,
                    /*  48 */    0x27,   0x60,    0x0,   0x5c,   0x7a,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x2c,   0x2e,   0x2f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x7c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0809_shiftcapslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x21,   0x40,   0x23,   0x24,   0x25,   0x5e,
                    /*  16 */    0x26,   0x2a,   0x28,   0x29,   0x5f,   0x2b,    0x8,    0x0,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x79,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0x7b,   0x7d,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0x3a,
                    /*  48 */    0x22,   0x7e,    0x0,   0x7c,   0x7a,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x3c,   0x3e,   0x3f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2e,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };

                for(size_t i = 0 ; i < 128 ; i++) {
                    if (keylayout_0809_noshift[i]){
                        keylayout_WORK_noshift[i] = keylayout_0809_noshift[i] ;
                    }
                    if (keylayout_0809_shift[i]){
                        keylayout_WORK_shift[i] = keylayout_0809_shift[i] ;
                    }
                    if (keylayout_0809_altgr[i]){
                        keylayout_WORK_altgr[i] = keylayout_0809_altgr[i] ;
                    }
                    if (keylayout_0809_capslock[i]){
                        keylayout_WORK_capslock[i] = keylayout_0809_capslock[i] ;
                    }
                    if (keylayout_0809_shiftcapslock[i]){
                        keylayout_WORK_shiftcapslock[i] = keylayout_0809_shiftcapslock[i] ;
                    }
                }

            }
            break;
            case 0x080c:
            {
                const int keylayout_080c_noshift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x26,   0xe9,   0x22,   0x27,   0x28,   0x2d,
                    /*  16 */    0xe8,   0x5f,   0xe7,   0xe0,   0x29,   0x3d,    0x8,    0x9,
                    /*  24 */    0x61,   0x7a,   0x65,   0x72,   0x74,   0x79,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0x5e,   0x24,    0xd,    0x0,   0x71,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0x6d,
                    /*  48 */    0xf9,   0xb2,    0x0,   0x2a,   0x77,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x2c,   0x3b,   0x3a,   0x21,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_080c_shift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0xb0,   0x2b,    0x8,    0x0,
                    /*  24 */    0x41,   0x5a,   0x45,   0x52,   0x54,   0x59,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0xa8,   0xa3,    0xd,    0x0,   0x51,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0x4d,
                    /*  48 */    0x25,   0x7e,    0x0,   0xb5,   0x57,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x3f,   0x2e,   0x2f,   0xa7,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2e,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_080c_capslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x26,   0xc9,   0x22,   0x27,   0x28,   0x2d,
                    /*  16 */    0xc8,   0x5f,   0xc7,   0xc0,   0x29,   0x3d,    0x8,    0x9,
                    /*  24 */    0x41,   0x5a,   0x45,   0x52,   0x54,   0x59,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0x5e,   0x24,    0xd,    0x0,   0x51,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0x4d,
                    /*  48 */    0xd9,   0xb2,    0x0,   0x2a,   0x57,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x2c,   0x3b,   0x3a,   0x21,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_080c_altgr[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0xb9,   0x7e,   0x23,   0x7b,   0x5b,   0x7c,
                    /*  16 */    0x60,   0x5c,   0x5e,   0x40,   0x5d,   0x7d,    0x8,    0x9,
                    /*  24 */    0xe6,   0xab, 0x20ac,   0xb6,  0x167, 0x2190, 0x2193, 0x2192,
                    /*  32 */    0xf8,   0xfe,   0xa8,   0xa4,    0xd,    0x0,   0x40,   0xdf,
                    /*  40 */    0xf0,  0x111,  0x14b,  0x127,   0x6a,  0x138,  0x142,   0xb5,
                    /*  48 */    0x5e,   0xac,    0x0,   0x60,  0x142,   0xbb,   0xa2, 0x201c,
                    /*  56 */  0x201d,   0x6e,   0xb4,    0x0,   0xb7,    0x0,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x7c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_080c_shiftcapslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0xb0,   0x2b,    0x8,    0x0,
                    /*  24 */    0x61,   0x7a,   0x65,   0x72,   0x74,   0x79,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0xa8,   0xa3,    0xd,    0x0,   0x71,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0x6d,
                    /*  48 */    0x25,   0x7e,    0x0,    0x0,   0x77,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x3f,   0x2e,   0x2f,   0xa7,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2e,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };

                for(size_t i = 0 ; i < 128 ; i++) {
                    if (keylayout_080c_noshift[i]){
                        keylayout_WORK_noshift[i] = keylayout_080c_noshift[i] ;
                    }
                    if (keylayout_080c_shift[i]){
                        keylayout_WORK_shift[i] = keylayout_080c_shift[i] ;
                    }
                    if (keylayout_080c_altgr[i]){
                        keylayout_WORK_altgr[i] = keylayout_080c_altgr[i] ;
                    }
                    if (keylayout_080c_capslock[i]){
                        keylayout_WORK_capslock[i] = keylayout_080c_capslock[i] ;
                    }
                    if (keylayout_080c_shiftcapslock[i]){
                        keylayout_WORK_shiftcapslock[i] = keylayout_080c_shiftcapslock[i] ;
                    }
                }
            }
            break;
            case 0x0813:
            {
                const int keylayout_0813_noshift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x26,   0xe9,   0x22,   0x27,   0x28,   0x2d,
                    /*  16 */    0xe8,   0x21,   0xe7,   0xe0,   0x29,   0x2d,    0x8,    0x9,
                    /*  24 */    0x61,   0x7a,   0x65,   0x72,   0x74,   0x79,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0x5e,   0x24,    0xd,    0x0,   0x71,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0x6d,
                    /*  48 */    0xf9,   0xb2,    0x0,   0x2a,   0x77,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x2c,   0x3b,   0x3a,   0x3d,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0813_shift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0xb0,   0x5f,    0x8,    0x0,
                    /*  24 */    0x41,   0x5a,   0x45,   0x52,   0x54,   0x59,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0xa8,   0xa3,    0xd,    0x0,   0x51,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0x4d,
                    /*  48 */    0x25,   0x7e,    0x0,   0xb5,   0x57,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x3f,   0x2e,   0x2f,   0x2b,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2e,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0813_capslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x26,   0xc9,   0x22,   0x27,   0x28,   0x2d,
                    /*  16 */    0xc8,   0x5f,   0xc7,   0xc0,   0x29,   0x3d,    0x8,    0x9,
                    /*  24 */    0x41,   0x5a,   0x45,   0x52,   0x54,   0x59,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0x5e,   0x24,    0xd,    0x0,   0x51,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0x4d,
                    /*  48 */    0xd9,   0xb2,    0x0,   0x2a,   0x57,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x2c,   0x3b,   0x3a,   0x21,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0813_altgr[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0xb9,   0x40,   0x23,   0x7b,   0x5b,   0x5e,
                    /*  16 */     0x0,    0x0,   0x7b,   0x7d,    0x0,    0x0,    0x8,    0x9,
                    /*  24 */    0xe6,   0xab, 0x20ac,   0xb6,  0x167, 0x2190, 0x2193, 0x2192,
                    /*  32 */    0xf8,   0xfe,   0x5b,   0x5d,    0xd,    0x0,   0x40,   0xdf,
                    /*  40 */    0xf0,  0x111,  0x14b,  0x127,   0x6a,  0x138,  0x142,   0xb5,
                    /*  48 */    0x27,   0x60,    0x0,   0x60,  0x142,   0xbb,   0xa2, 0x201c,
                    /*  56 */  0x201d,   0x6e,   0xb4,    0x0,   0xb7,   0x7e,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x7c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_0813_shiftcapslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0xb0,   0x2b,    0x8,    0x0,
                    /*  24 */    0x61,   0x7a,   0x65,   0x72,   0x74,   0x79,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0xa8,   0xa3,    0xd,    0x0,   0x71,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0x6d,
                    /*  48 */    0x25,   0x7e,    0x0,    0x0,   0x77,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x3f,   0x2e,   0x2f,   0xa7,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2e,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };

                for(size_t i = 0 ; i < 128 ; i++) {
                    if (keylayout_0813_noshift[i]){
                        keylayout_WORK_noshift[i] = keylayout_0813_noshift[i] ;
                    }
                    if (keylayout_0813_shift[i]){
                        keylayout_WORK_shift[i] = keylayout_0813_shift[i] ;
                    }
                    if (keylayout_0813_altgr[i]){
                        keylayout_WORK_altgr[i] = keylayout_0813_altgr[i] ;
                    }
                    if (keylayout_0813_capslock[i]){
                        keylayout_WORK_capslock[i] = keylayout_0813_capslock[i] ;
                    }
                    if (keylayout_0813_shiftcapslock[i]){
                        keylayout_WORK_shiftcapslock[i] = keylayout_0813_shiftcapslock[i] ;
                    }
                }
            }
            break;
            case 0x100c:
            {
                const int keylayout_100c_noshift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0x27,   0x3d,    0x8,    0x9,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x7a,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0x5b,   0x5d,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0xf6,
                    /*  48 */    0xe4,   0x5f,    0x0,   0x24,   0x79,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x2c,   0x2e,   0x2d,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_100c_shift[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x2b,   0x22,   0x2a,    0x0,   0x25,   0x26,
                    /*  16 */    0x2f,   0x28,   0x29,   0x3d,   0x3f,   0x60,    0x8,    0x0,
                    /*  24 */    0x51,   0x57,   0x45,   0x52,   0x54,   0x5a,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0x7b,   0x21,    0xd,    0x0,   0x41,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0x3a,
                    /*  48 */    0x22,    0x0,    0x0,   0x23,   0x5a,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x4d,   0x3b,   0x3a,   0x5f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2c,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_100c_capslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x31,   0x32,   0x33,   0x34,   0x35,   0x36,
                    /*  16 */    0x37,   0x38,   0x39,   0x30,   0xdf,   0xb4,    0x8,    0x9,
                    /*  24 */    0x51,   0x57,   0x45,   0x52,   0x54,   0x5a,   0x55,   0x49,
                    /*  32 */    0x4f,   0x50,   0xdc,   0x2b,    0xd,    0x0,   0x41,   0x53,
                    /*  40 */    0x44,   0x46,   0x47,   0x48,   0x4a,   0x4b,   0x4c,   0xd6,
                    /*  48 */    0xc4,   0x5e,    0x0,   0x23,   0x59,   0x58,   0x43,   0x56,
                    /*  56 */    0x42,   0x4e,   0x4d,   0x2c,   0x2e,   0x2d,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x3c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_100c_altgr[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x7c,   0x40,   0x23,    0x0,    0x0,    0x0,
                    /*  16 */     0x0,   0x7c,    0x0,   0x5d,   0x60,   0x7e,    0x8,    0x9,
                    /*  24 */    0x40,  0x142, 0x20ac,   0xb6,  0x167, 0x2190, 0x2193, 0x2192,
                    /*  32 */     0x0,    0x0,   0x5b,   0x5d,    0xd,    0x0,   0xe6,   0xdf,
                    /*  40 */    0xf0,  0x111,  0x14b,  0x127,   0x6a,  0x138,  0x142,  0x2dd,
                    /*  48 */    0x7b,   0xac,    0x0,   0x7d,   0xab,   0xbb,   0xa2, 0x201c,
                    /*  56 */  0x201d,   0x6e,   0xb5,    0x0,   0xb7,    0x0,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  80 */     0x0,    0x0,   0x2d,    0x0,    0x0,    0x0,   0x2b,    0x0,
                    /*  88 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x7c,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };
                const int keylayout_100c_shiftcapslock[128] = {
                    /*   0 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*   8 */     0x0,   0x1b,   0x21,   0x22,   0xa7,   0x24,   0x25,   0x26,
                    /*  16 */    0x2f,   0x28,   0x29,   0x3d,   0x3f,   0x60,    0x8,    0x0,
                    /*  24 */    0x71,   0x77,   0x65,   0x72,   0x74,   0x7a,   0x75,   0x69,
                    /*  32 */    0x6f,   0x70,   0xfc,   0x2a,    0xd,    0x0,   0x61,   0x73,
                    /*  40 */    0x64,   0x66,   0x67,   0x68,   0x6a,   0x6b,   0x6c,   0xf6,
                    /*  48 */    0xe4,   0xb0,    0x0,   0x27,   0x79,   0x78,   0x63,   0x76,
                    /*  56 */    0x62,   0x6e,   0x6d,   0x3b,   0x3a,   0x5f,    0x0,   0x2a,
                    /*  64 */     0x0,   0x20,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /*  72 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,   0x37,
                    /*  80 */    0x38,   0x39,   0x2d,   0x34,   0x35,   0x36,   0x2b,   0x31,
                    /*  88 */    0x32,   0x33,   0x30,   0x2c,    0x0,    0x0,   0x3e,    0x0,
                    /*  96 */     0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                    /* 104 */     0x0,    0x0,    0x0,   0x7f,    0xd,    0x0,    0x0,    0x0,
                    /* 112 */    0x2f,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,    0x0,
                };

                for(size_t i = 0 ; i < 128 ; i++) {
                    if (keylayout_100c_noshift[i]){
                        keylayout_WORK_noshift[i] = keylayout_100c_noshift[i] ;
                    }
                    if (keylayout_100c_shift[i]){
                        keylayout_WORK_shift[i] = keylayout_100c_shift[i] ;
                    }
                    if (keylayout_100c_altgr[i]){
                        keylayout_WORK_altgr[i] = keylayout_100c_altgr[i] ;
                    }
                    if (keylayout_100c_capslock[i]){
                        keylayout_WORK_capslock[i] = keylayout_100c_capslock[i] ;
                    }
                    if (keylayout_100c_shiftcapslock[i]){
                        keylayout_WORK_shiftcapslock[i] = keylayout_100c_shiftcapslock[i] ;
                    }
                }
            }
            break;
            default:
            break;
        }

//        // DEBUG
//        for( int i=0 ; i< 128 ; i++) {
//            printf("%3d = <%3d>\n", i, keylayout_WORK_shift[i]) ;
//        }

    } // Keymap::init_layout

    void update_keys_flags(int key_state)
    {}

// ################################################################
    void update_chr_unicode(int key_state, int device_flags)
    {}
// ################################################################

// ################################################################
    int get_key_info_from_scan_code(int scan_code ) const
    {

        // This table translates the RDP scanodes to X11 scandodes :
        //  - if regular device : applies the +8 translation
        //  - if ext device : applies the redirection
        static struct codepair {
            uint8_t code1 ;
            uint8_t code2 ;
        } map[128] =  {
                {   0,   0 }, {   9,   0 }, {  10,   0 }, {  11,   0 }, {  12,   0 }, //   0 -   4
                {  13,   0 }, {  14,   0 }, {  15,   0 }, {  16,   0 }, {  17,   0 }, //   5 -   9
                {  18,   0 }, {  19,   0 }, {  20,   0 }, {  21,   0 }, {  22,   0 }, //  10 -  14
                {  23,   0 }, {  24,   0 }, {  25,   0 }, {  26,   0 }, {  27,   0 }, //  15 -  19
                {  28,   0 }, {  29,   0 }, {  30,   0 }, {  31,   0 }, {  32,   0 }, //  20 -  24
                {  33,   0 }, {  34,   0 }, {  35,   0 }, {  36, 108 }, {  37, 109 }, //  25 -  29
                {  38,   0 }, {  39,   0 }, {  40,   0 }, {  41,   0 }, {  42,   0 }, //  30 -  34
                {  43,   0 }, {  44,   0 }, {  45,   0 }, {  46,   0 }, {  47,   0 }, //  35 -  39
                {  48,   0 }, {  49,   0 }, {  50,   0 }, {  51,   0 }, {  52,   0 }, //  40 -  44
                {  53,   0 }, {  54,   0 }, {  55,   0 }, {  56,   0 }, {  57,   0 }, //  45 -  49
                {  58,   0 }, {  59,   0 }, {  60,   0 }, {  61, 112 }, {  62,   0 }, //  50 -  54
                {  63, 111 }, {  64, 113 }, {  65,   0 }, {  66,   0 }, {  67,   0 }, //  55 -  59
                {  68,   0 }, {  69,   0 }, {  70,   0 }, {  71,   0 }, {  72,   0 }, //  60 -  64
                {  73,   0 }, {  74,   0 }, {  75,   0 }, {  76,   0 }, {  77,   0 }, //  65 -  69
                {  78,   0 }, {  79,  97 }, {  80,  98 }, {  81,  99 }, {  82,   0 }, //  70 -  74
                {  83, 100 }, {  84,   0 }, {  85, 102 }, {  86,   0 }, {  87, 103 }, //  75 -  79
                {  88, 104 }, {  89, 105 }, {  90, 106 }, {  91, 107 }, {  92,   0 }, //  80 -  84
                {  93,   0 }, {  94,   0 }, {  95,   0 }, {  96,   0 }, {  97,   0 }, //  85 -  89
                {  98,   0 }, {   0, 115 }, {   0, 116 }, {   0, 117 }, { 102,   0 }, //  90 -  94
                { 103,   0 }, { 104,   0 }, { 105,   0 }, { 106,   0 }, { 107,   0 }, //  95 -  99
                { 108,   0 }, { 109,   0 }, { 110,   0 }, { 111,   0 }, { 112,   0 }, // 100 - 104
                { 113,   0 }, { 114,   0 }, { 115,   0 }, { 116,   0 }, { 117,   0 }, // 105 - 109
                { 118,   0 }, { 119,   0 }, { 120,   0 }, { 121,   0 }, { 122,   0 }, // 110 - 114
                { 123,   0 }, { 124,   0 }, { 125,   0 }, { 126,   0 }, { 127,   0 }, // 115 - 119
                { 128,   0 }, { 129,   0 }, { 130,   0 }, { 131,   0 }, { 132,   0 }, // 120 - 124
                { 133,   0 }, { 134,   0 }, { 135,   0 }                              // 125 - 127
        } ;

        return keylayout_WORK_shift[map[scan_code & 0x7f].code1] ;
    }
// ################################################################

// The TS_KEYBOARD_EVENT structure is a standard T.128 Keyboard Event (see [T128] section
// 8.18.2). RDP keyboard input is restricted to keyboard scancodes, unlike the code-point or virtual
// codes supported in T.128 (a scancode is an 8-bit value specifying a key location on the keyboard).
// The server accepts a scancode value and translates it into the correct character depending on the
// language locale and keyboard layout used in the session.

// keyboardFlags (2 bytes): A 16-bit, unsigned integer. The flags describing the keyboard event.

// +--------------------------+------------------------------------------------+
// | 0x0100 KBDFLAGS_EXTENDED | The keystroke message contains an extended     |
// |                          | scancode. For enhanced 101-key and 102-key     |
// |                          | keyboards, extended keys include the right     |
// |                          | ALT and right CTRL keys on the main section    |
// |                          | of the keyboard; the INS, DEL, HOME, END,      |
// |                          | PAGE UP, PAGE DOWN and ARROW keys in the       |
// |                          | clusters to the left of the numeric keypad;    |
// |                          | and the Divide ("/") and ENTER keys in the     |
// |                          | numeric keypad.                                |
// +--------------------------+------------------------------------------------+
// | 0x4000 KBDFLAGS_DOWN     | Indicates that the key was down prior to this  |
// |                          | event.                                         |
// +--------------------------+------------------------------------------------+
// | 0x8000 KBDFLAGS_RELEASE  | The absence of this flag indicates a key-down  |
// |                          | event, while its presence indicates a          |
// |                          | key-release event.                             |
// +--------------------------+------------------------------------------------+

// keyCode (2 bytes): A 16-bit, unsigned integer. The scancode of the key which
// triggered the event.

    void event(const uint16_t keyboardFlags, const uint16_t keyCode)
    {
        this->keys_down[keyCode] = !(keyboardFlags & KBDFLAGS_RELEASE);

        // This table translates the RDP scanodes to X11 scandodes :
        //  - if regular device : applies the +8 translation
        //  - if ext device : applies the redirection
        static struct codepair {
            uint8_t code1 ;
            uint8_t code2 ;
        } map[128] =  {
                {   0,   0 }, {   9,   0 }, {  10,   0 }, {  11,   0 }, {  12,   0 }, //   0 -   4
                {  13,   0 }, {  14,   0 }, {  15,   0 }, {  16,   0 }, {  17,   0 }, //   5 -   9
                {  18,   0 }, {  19,   0 }, {  20,   0 }, {  21,   0 }, {  22,   0 }, //  10 -  14
                {  23,   0 }, {  24,   0 }, {  25,   0 }, {  26,   0 }, {  27,   0 }, //  15 -  19
                {  28,   0 }, {  29,   0 }, {  30,   0 }, {  31,   0 }, {  32,   0 }, //  20 -  24
                {  33,   0 }, {  34,   0 }, {  35,   0 }, {  36, 108 }, {  37, 109 }, //  25 -  29
                {  38,   0 }, {  39,   0 }, {  40,   0 }, {  41,   0 }, {  42,   0 }, //  30 -  34
                {  43,   0 }, {  44,   0 }, {  45,   0 }, {  46,   0 }, {  47,   0 }, //  35 -  39
                {  48,   0 }, {  49,   0 }, {  50,   0 }, {  51,   0 }, {  52,   0 }, //  40 -  44
                {  53,   0 }, {  54,   0 }, {  55,   0 }, {  56,   0 }, {  57,   0 }, //  45 -  49
                {  58,   0 }, {  59,   0 }, {  60,   0 }, {  61, 112 }, {  62,   0 }, //  50 -  54
                {  63, 111 }, {  64, 113 }, {  65,   0 }, {  66,   0 }, {  67,   0 }, //  55 -  59
                {  68,   0 }, {  69,   0 }, {  70,   0 }, {  71,   0 }, {  72,   0 }, //  60 -  64
                {  73,   0 }, {  74,   0 }, {  75,   0 }, {  76,   0 }, {  77,   0 }, //  65 -  69
                {  78,   0 }, {  79,  97 }, {  80,  98 }, {  81,  99 }, {  82,   0 }, //  70 -  74
                {  83, 100 }, {  84,   0 }, {  85, 102 }, {  86,   0 }, {  87, 103 }, //  75 -  79
                {  88, 104 }, {  89, 105 }, {  90, 106 }, {  91, 107 }, {  92,   0 }, //  80 -  84
                {  93,   0 }, {  94,   0 }, {  95,   0 }, {  96,   0 }, {  97,   0 }, //  85 -  89
                {  98,   0 }, {   0, 115 }, {   0, 116 }, {   0, 117 }, { 102,   0 }, //  90 -  94
                { 103,   0 }, { 104,   0 }, { 105,   0 }, { 106,   0 }, { 107,   0 }, //  95 -  99
                { 108,   0 }, { 109,   0 }, { 110,   0 }, { 111,   0 }, { 112,   0 }, // 100 - 104
                { 113,   0 }, { 114,   0 }, { 115,   0 }, { 116,   0 }, { 117,   0 }, // 105 - 109
                { 118,   0 }, { 119,   0 }, { 120,   0 }, { 121,   0 }, { 122,   0 }, // 110 - 114
                { 123,   0 }, { 124,   0 }, { 125,   0 }, { 126,   0 }, { 127,   0 }, // 115 - 119
                { 128,   0 }, { 129,   0 }, { 130,   0 }, { 131,   0 }, { 132,   0 }, // 120 - 124
                { 133,   0 }, { 134,   0 }, { 135,   0 }                              // 125 - 127
        } ;
        if (this->keys_down[keyCode]){
            this->last_char_key = keyCode;
            if (this->is_shift_pressed()){
                this->last_char = keylayout_WORK_shift[map[keyCode & 0x7f].code1] ;
            }
            else {
                this->last_char = keylayout_WORK_noshift[map[keyCode & 0x7f].code1] ;
            }
        }
        else {
            if (keyCode == this->last_char_key){
                this->last_char = 0;
            }
        }
    }

    uint32_t last_char_down()
    {
        return this->last_char;
    }

    bool is_left_shift_pressed()
    {
        return this->keys_down[54];
    }
    bool is_right_shift_pressed()
    {
        return this->keys_down[42];
    }

    bool is_shift_pressed()
    {
        return this->is_left_shift_pressed() || this->is_right_shift_pressed();
    }
};


#endif
